add_executable(testGzipIndexFormat)
target_sources(testGzipIndexFormat PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testGzipIndexFormat.cpp)
target_link_libraries(testGzipIndexFormat PRIVATE librapidgzip)
add_test(NAME Test-GzipIndexFormat COMMAND testGzipIndexFormat)
add_dependencies(all_tests testGzipIndexFormat)

add_executable(testHuffmanCoding)
target_sources(testHuffmanCoding PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testHuffmanCoding.cpp)
target_link_libraries(testHuffmanCoding PRIVATE libhuffman)
add_test(NAME Test-HuffmanCoding COMMAND testHuffmanCoding)
add_dependencies(all_tests testHuffmanCoding)

add_executable(testDecodedData)
target_sources(testDecodedData PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testDecodedData.cpp)
target_link_libraries(testDecodedData PRIVATE librapidgzip)
add_test(NAME Test-Decoded-Data COMMAND testDecodedData)
add_dependencies(all_tests testDecodedData)
target_compile_features(testDecodedData INTERFACE cxx_std_20)  # for aggregate initialization

add_executable(testDeflate)
target_sources(testDeflate PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testDeflate.cpp)
target_link_libraries(testDeflate PRIVATE zlibstatic librapidgzip)
add_test(NAME Test-Deflate COMMAND testDeflate)
add_dependencies(all_tests testDeflate)

add_executable(testGzip)
target_sources(testGzip PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testGzip.cpp)
target_link_libraries(testGzip PRIVATE zlibstatic librapidgzip)
add_test(NAME Test-Gzip COMMAND testGzip)
add_dependencies(all_tests testGzip)

add_executable(testParallelGzipReader)
target_sources(testParallelGzipReader PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testParallelGzipReader.cpp)
target_link_libraries(testParallelGzipReader PRIVATE librapidgzip)
add_test(NAME Test-Parallel-Gzip-Reader COMMAND testParallelGzipReader)
add_dependencies(all_tests testParallelGzipReader)

add_executable(testGzipChunkFetcher)
target_sources(testGzipChunkFetcher PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testGzipChunkFetcher.cpp)
target_link_libraries(testGzipChunkFetcher PRIVATE librapidgzip)
add_test(NAME Test-Gzip-Chunk-Fetcher COMMAND testGzipChunkFetcher)
add_dependencies(all_tests testGzipChunkFetcher)

add_executable(testGzipBlockFinder)
target_sources(testGzipBlockFinder PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testGzipBlockFinder.cpp)
target_link_libraries(testGzipBlockFinder PRIVATE librapidgzip)
add_test(NAME Test-Gzip-Block-Finder COMMAND testGzipBlockFinder)
add_dependencies(all_tests testGzipBlockFinder)

add_executable(testPrecodeCheck)
target_sources(testPrecodeCheck PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testPrecodeCheck.cpp)
target_link_libraries(testPrecodeCheck PRIVATE librapidgzip)
add_test(NAME Test-Precode-Check COMMAND testPrecodeCheck)
add_dependencies(all_tests testPrecodeCheck)

add_executable(testCLI)
target_sources(testCLI PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testCLI.cpp)
target_include_directories(testCLI PRIVATE ${CMAKE_CURRENT_LIST_DIR}/../../tools)
target_link_libraries(testCLI PRIVATE librapidgzip cxxopts)
add_test(NAME Test-CLI COMMAND testCLI)
add_dependencies(all_tests testCLI)

add_executable(testCompressedVector)
target_sources(testCompressedVector PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testCompressedVector.cpp)
target_link_libraries(testCompressedVector PRIVATE librapidgzip)
add_test(NAME Test-CompressedVector COMMAND testCompressedVector)
add_dependencies(all_tests testCompressedVector)

add_executable(testCRC32)
target_sources(testCRC32 PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testCRC32.cpp)
target_link_libraries(testCRC32 PRIVATE librapidgzip)
add_test(NAME Test-CRC32 COMMAND testCRC32)
add_dependencies(all_tests testCRC32)

add_executable(testInflateWrapper)
target_sources(testInflateWrapper PRIVATE ${CMAKE_CURRENT_LIST_DIR}/testInflateWrapper.cpp)
target_link_libraries(testInflateWrapper PRIVATE librapidgzip)
add_test(NAME Test-Zlib COMMAND testInflateWrapper)
add_dependencies(all_tests testInflateWrapper)
